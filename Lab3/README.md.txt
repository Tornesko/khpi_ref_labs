У цьому рефакторингу було використано підхід поліморфізму об'єктно-орієнтованого програмування для заміни оператора switch у функції/класі ShapeCalculator.

У результаті були створені окремі класи для кожного типу фігури (Circle, Rectangle, Triangle), які успадковують базовий клас Shape.

Кожен з цих класів має власний метод calculate_area, який реалізує обчислення площі для відповідної фігури.

Тепер метод calculate_area класу ShapeCalculator викликає відповідний метод для обчислення площі залежно від типу фігури, що дозволяє легко додавати нові типи фігур без змін у вже існуючому коді.